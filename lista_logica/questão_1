import java.util.Scanner;

public class Main {
    private static Scanner teclado;

    public static void main(String[] args) {
        teclado = new Scanner(System.in);
        boolean executarNovamente;
        
        do {
            executarNovamente = executarPrograma();
        } while (executarNovamente);
        
        System.out.println("Programa encerrado. Obrigado!");
        teclado.close();
    }
    
    public static boolean executarPrograma() {
        System.out.print("Quantos números deseja analisar? ");
        int tamanho = teclado.nextInt();
        
        if(tamanho <= 0) {
            limparTela();
            System.out.println("Erro!! Impossível analisar zero ou números negativos!");
            // Em vez de System.exit(0), vamos perguntar se deseja continuar
            return perguntarSeDesejaContinuar();
        }
        
        double[] resultados = encontrarMaiorMenor(tamanho);
        
        limparTela();
        
        System.out.println("Maior número: " + resultados[0]);
        System.out.println("Menor número: " + resultados[1]);
        
        return perguntarSeDesejaContinuar();
    }
    
    public static double[] encontrarMaiorMenor(int tamanho) {
        double maior = Double.NEGATIVE_INFINITY;
        double menor = Double.POSITIVE_INFINITY;
        
        for (int i = 0; i < tamanho; i++) {
            limparTela();
            
            System.out.print("Digite o número " + (i + 1) + ": ");
            double numero = teclado.nextDouble();
            
            if (numero > maior) {
                maior = numero;
            }
            if (numero < menor) {
                menor = numero;
            }
        }
        
        return new double[]{maior, menor};
    }
    
    public static boolean perguntarSeDesejaContinuar() {
        String resposta;
        do {
            System.out.print("\nDeseja executar novamente? (S/N): ");
            resposta = teclado.next().toUpperCase();
            
            // Limpar o buffer do teclado
            teclado.nextLine();
            
            if (resposta.equals("S") || resposta.equals("SIM")) {
                limparTela();
                return true;
            } else if (resposta.equals("N") || resposta.equals("NAO") || resposta.equals("NÃO")) {
                limparTela() ;
                return false;
            } else {
                System.out.print("Resposta inválida!! Digite novamente.");
                limparTela() ;
                
            }
        } while (true);
    }
    
    public static void limparTela() {
        try {
            if (System.getProperty("os.name").contains("Windows")) {
                new ProcessBuilder("cmd", "/c", "cls").inheritIO().start().waitFor();
            } else {
                System.out.print("\033[H\033[2J");
                System.out.flush();
            }
        } catch (Exception e) {
            // Fallback: imprimir várias linhas em branco
            for (int i = 0; i < 20; i++) {
                System.out.println();
            }
        }
    }
}
