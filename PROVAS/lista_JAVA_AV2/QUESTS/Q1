import java.util.Scanner;

class Contador {
    private int total;
    
    public Contador() {
        this.total = 0;
    }
    
    public void zerar() {
        total = 0;
        System.out.println("üîÑ Contador zerado!");
    }
    
    public void incrementar(int quantidade) {
        if (quantidade > 0) {
            total += quantidade;
            // MENSAGEM √öNICA E INTELIGENTE
            String plural = quantidade > 1 ? "pessoas" : "pessoa";
            System.out.println("‚úÖ +" + quantidade + " " + plural + ". Total: " + total);
        } else {
            System.out.println("‚ùå Quantidade deve ser positiva!");
        }
    }
    
    public int getValor() {
        return total;
    }
}

public class Main {
    private static Scanner scanner = new Scanner(System.in);
    private static Contador contador = new Contador();
    
    public static void main(String[] args) {
        System.out.println("üé™ SISTEMA SIMPLES DE CONTROLE DE ACESSO");
        
        boolean executando = true;
        while (executando) {
            exibirMenu(); // M√âTODO √öNICO PARA MENU
            executando = processarOpcao(lerOpcao()); //M√âTODO √öNICO PARA PROCESSAR
        }
        
        scanner.close();
    }
    
    //M√âTODO √öNICO PARA EXIBIR MENU
    private static void exibirMenu() {
        System.out.println("\n" + "=".repeat(40));
        System.out.println("1. Pessoa(s) entrou/entraram");
        System.out.println("2. Zerar contador");
        System.out.println("3. Ver total");
        System.out.println("4. Sair");
        System.out.println("=".repeat(40));
        System.out.print("Escolha: ");
    }
    
    //M√âTODO √öNICO PARA LER OP√á√ïES
    private static int lerOpcao() {
        try {
            return scanner.nextInt();
        } catch (Exception e) {
            System.out.println("‚ùå Erro! Digite apenas n√∫meros.");
            scanner.nextLine(); // Limpa o buffer
            return -1; // Op√ß√£o inv√°lida
        }
    }
    
    //M√âTODO √öNICO PARA PROCESSAR TODAS AS OP√á√ïES
    private static boolean processarOpcao(int opcao) {
        switch (opcao) {
            case 1:
                adicionarPessoas();
                return true;
            case 2:
                contador.zerar();
                return true;
            case 3:
                System.out.println("üë• Total de pessoas: " + contador.getValor());
                return true;
            case 4:
                System.out.println("üëã At√© logo!");
                return false;
            default:
                System.out.println("‚ùå Op√ß√£o inv√°lida! Use 1, 2, 3 ou 4.");
                return true;
        }
    }
    
    //M√âTODO SIMPLIFICADO PARA ADICIONAR PESSOAS
    private static void adicionarPessoas() {
        try {
            System.out.print("Quantas pessoas? (Enter = 1): ");
            scanner.nextLine(); // Limpa buffer
            
            String entrada = scanner.nextLine().trim();
            int quantidade = entrada.isEmpty() ? 1 : Integer.parseInt(entrada);
            
            if (entrada.isEmpty()) {
                System.out.println("‚ö° Entrada r√°pida: 1 pessoa");
            }
            
            contador.incrementar(quantidade);
            
        } catch (NumberFormatException e) {
            System.out.println("‚ùå Erro! Digite um n√∫mero v√°lido.");
        } catch (Exception e) {
            System.out.println("‚ùå Erro inesperado: " + e.getMessage());
        }
    }
}
